<!DOCTYPE HTML>
<!--
	Twenty by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		{% load staticfiles %}

		<link rel="apple-touch-icon" sizes="57x57" href="{% static 'images/favicons/apple-touch-icon-57x57.png' %}">
		<link rel="apple-touch-icon" sizes="60x60" href="{% static 'images/favicons/apple-touch-icon-60x60.png' %}">
		<link rel="apple-touch-icon" sizes="72x72" href="{% static 'images/favicons/apple-touch-icon-72x72.png' %}">
		<link rel="apple-touch-icon" sizes="76x76" href="{% static 'images/favicons/apple-touch-icon-76x76.png' %}">
		<link rel="apple-touch-icon" sizes="114x114" href="{% static 'images/favicons/apple-touch-icon-114x114.png' %}">
		<link rel="apple-touch-icon" sizes="120x120" href="{% static 'images/favicons/apple-touch-icon-120x120.png' %}">
		<link rel="apple-touch-icon" sizes="144x144" href="{% static 'images/favicons/apple-touch-icon-144x144.png' %}">
		<link rel="apple-touch-icon" sizes="152x152" href="{% static 'images/favicons/apple-touch-icon-152x152.png' %}">
		<link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favicons/apple-touch-icon-180x180.png' %}">
		<link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-32x32.png' %}" sizes="32x32">
		<link rel="icon" type="image/png" href="{% static 'images/favicons/android-chrome-192x192.png' %}" sizes="192x192">
		<link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-96x96.png' %}" sizes="96x96">
		<link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-16x16.png' %}" sizes="16x16">
		<link rel="manifest" href="{% static 'images/favicons/manifest.json' %}">
		<link rel="shortcut icon" href="{% static 'images/favicons/favicon.ico' %}">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-TileImage" content="{% static 'images/favicons/mstile-144x144.png' %}">
		<meta name="msapplication-config" content="{% static 'images/favicons/browserconfig.xml' %}">
		<meta name="theme-color" content="#ffffff">

		<script>
			var mobileStyle = '{% static 'css/style-mobile.css' %}';
			var style = '{% static 'css/style.css' %}';
			var wideStyle = '{% static 'css/style-wide.css' %}';
			var narrowStyle = '{% static 'css/style-narrow.css' %}';
			var narrowerStyle = '{% static 'css/style-narrower.css' %}';
			var normalStyle = '{% static 'css/style-normal.css' %}';
			var tourOpen = '{{ showIndexTour }}';
		</script>

		<title>Skedg - Let us check your skedg! </title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		
		<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
		<script src="{% static 'js/jquery.min.js' %}"></script>
		<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
		<script src="{% static 'js/jquery.dropotron.min.js' %}"></script>
		<script src="{% static 'js/jquery.scrolly.min.js' %}"></script>
		<script src="{% static 'js/jquery.scrollgress.min.js' %}"></script>
		<script src="{% static 'js/skel.min.js' %}"></script>
		<script src="{% static 'js/skel-layers.min.js' %}"></script>
		<script src="{% static 'js/init.js' %}"></script>
		<script src="{% static 'js/moment.js' %}"></script> 
		<script src="{% static 'js/combodate.js' %}"></script> 
		<script src="{% static 'js/jquery.ui.touch-punch.js' %}"></script>
		<script src="{% static 'js/jquery.joyride-2.1.js' %}"></script> 

		<!-- I am perfectly capable of putting this in a new file myself, BUT I HAVE TOLD YOU CHUMPS LIKE FIVE TIMES TO DO THIS SO I'M
		CARRYING THIS OVER TO PROVE A POINT. -->
		<script>
		$(function(){
			//Set default for create event
			{% if not start_time %}
				$("#start_time").val("12:00 PM");
				$("#end_time").val("2:00 PM");
				$("#event_length").val("1 hour");
				$("#start_time2").val("12:00 PM");
				$("#end_time2").val("2:00 PM");
				$("#event_length2").val("1 hour");
				//Get current date
				var d = new Date();
				var dString = d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear();
				$("#from").val(dString);
				$("#to").val(dString);
				$("#from2").val(dString);
				$("#to2").val(dString);
			{% endif %}

			{% if messages %}
				{% for message in messages %}
					alert('{{message}}');
				{% endfor %}
			{% endif %}
		});
		</script>

		<script type="text/javascript">
			$(document).ready(function()
			{
				$("#notificationLink").click(function()
				{
					$("#notificationContainer").fadeToggle(300);
					$("#notification_count").fadeOut("slow");
					return false;
				});

				//Document Click
				$(document).click(function()
				{
					$("#notificationContainer").hide();
				});

				//Popup Click
				$("#notificationContainer").click(function(evt)
				{
					// Ignore click if its part of a notification
					if(evt.target.id == "notificationBox")
						return;
					return false;
				});
			});
		</script>

		<!-- JQuery Date Picker-->
		<script>
			$(function() {
				$( "#from" ).datepicker({
					defaultDate: "+0d",
					changeMonth: false,
					numberOfMonths: 1,
					onClose: function( selectedDate ) {
						$( "#to" ).datepicker( "option", "minDate", selectedDate );
					}
				});
				$( "#to" ).datepicker({
					defaultDate: "+0d",
					changeMonth: false,
					numberOfMonths: 1,
					onClose: function( selectedDate ) {
						$( "#from" ).datepicker( "option", "maxDate", selectedDate );
					}
				});
				$( "#from2" ).datepicker({
					defaultDate: "+0d",
					changeMonth: false,
					numberOfMonths: 1,
					onClose: function( selectedDate ) {
						$( "#to" ).datepicker( "option", "minDate", selectedDate );
					}
				});
				$( "#to2" ).datepicker({
					defaultDate: "+0d",
					changeMonth: false,
					numberOfMonths: 1,
					onClose: function( selectedDate ) {
						$( "#from" ).datepicker( "option", "maxDate", selectedDate );
					}
				});
				$("#from").datepicker().datepicker("setDate", new Date());
				$("#to").datepicker().datepicker("setDate", new Date());
				$("#from2").datepicker().datepicker("setDate", new Date());
				$("#to2").datepicker().datepicker("setDate", new Date());
			});
		</script>

		<!-- JQuery Time Picker-->
		<script>
			$(function(){
				var time = $("#start_time").val();
				var start_minutes = Date.parse("January 1, 1970, " + time + " UTC") / (60 * 1000);
				$( "#start_slider" ).slider({
					min: 0,
					max: 1425,
					step: 15,
					value: start_minutes, //Set it to the current time
					slide: function(e, ui) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						if(hours.length == 1) hours = '0' + hours;
						if(minutes.length == 1) minutes = '0' + minutes;
						if(minutes == 0) minutes = '00';

						if(hours >= 12){

							if (hours == 12){
								minutes = minutes + " PM";
							}
							else{
								hours = hours - 12;
								minutes = minutes + " PM";
							}
						}

						else{
							minutes = minutes + " AM";
						}
						if (hours == 0){
							hours = 12;
						}
						$("#start_time").val(hours+":"+minutes)
					}
				});

				var time = $("#start_time2").val();
				var start_minutes = Date.parse("January 1, 1970, " + time + " UTC") / (60 * 1000);
				$( "#start_slider2" ).slider({
					min: 0,
					max: 1425,
					step: 15,
					value: start_minutes, //Set it to the current time
					slide: function(e, ui) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						if(hours.length == 1) hours = '0' + hours;
						if(minutes.length == 1) minutes = '0' + minutes;
						if(minutes == 0) minutes = '00';

						if(hours >= 12){

							if (hours == 12){
								minutes = minutes + " PM";
							}
							else{
								hours = hours - 12;
								minutes = minutes + " PM";
							}
						}

						else{
							minutes = minutes + " AM";
						}
						if (hours == 0){
							hours = 12;
						}
						$("#start_time2").val(hours+":"+minutes)
					}
				});

				var time = $("#end_time").val();
				var end_minutes = Date.parse("January 1, 1970, " + time + " UTC") / (60 * 1000);
				$( "#end_slider" ).slider({
					min: 0,
					max: 1425,
					step: 15,
					value: end_minutes, //Set it to the current time
					slide: function(e, ui) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						if(hours.length == 1) hours = '0' + hours;
						if(minutes.length == 1) minutes = '0' + minutes;
						if(minutes == 0) minutes = '00';

						if(hours >= 12){

							if (hours == 12){
								minutes = minutes + " PM";
							}
							else{
								hours = hours - 12;
								minutes = minutes + " PM";
							}
						}

						else{
							minutes = minutes + " AM";
						}
						if (hours == 0){
							hours = 12;
						}
						$("#end_time").val(hours+":"+minutes)
					}
				});

				var time = $("#end_time2").val();
				var end_minutes = Date.parse("January 1, 1970, " + time + " UTC") / (60 * 1000);
				$( "#end_slider2" ).slider({
					min: 0,
					max: 1425,
					step: 15,
					value: end_minutes, //Set it to the current time
					slide: function(e, ui) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						if(hours.length == 1) hours = '0' + hours;
						if(minutes.length == 1) minutes = '0' + minutes;
						if(minutes == 0) minutes = '00';

						if(hours >= 12){

							if (hours == 12){
								minutes = minutes + " PM";
							}
							else{
								hours = hours - 12;
								minutes = minutes + " PM";
							}
						}

						else{
							minutes = minutes + " AM";
						}
						if (hours == 0){
							hours = 12;
						}
						$("#end_time2").val(hours+":"+minutes)
					}
				});
			});
		</script>

		<!-- Slider for event length -->
		<script>
			$(function(){
				var eventLength = $("#event_length").val().split(' ');
				var lengthPos;
				if (eventLength.length == 4)
					lengthPos = parseInt(eventLength[0]) * 60 + parseInt(eventLength[2]);
				else {
					if (eventLength[1].charAt(0) == 'h') //only hours
						lengthPos = parseInt(eventLength[0]) * 60;
					else //Only minutes
						lengthPos = parseInt(eventLength[0]);
				}
				$("#eventLengthSlider").slider(
				{
					value:lengthPos,
					min: 15,
					max: 480,
					step: 15,
					slide: function( event, ui ) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						var output = "";
						if (hours == 1)
							output = output + "1 hour";
						if (hours > 1)
							output = output + hours + " hours";

						if (minutes > 0) {
							if (hours > 0)
								output = output + " ";
							output = output + minutes + " minutes";
						}
						$( "#event_length" ).val(output);
					}
				});

				var eventLength = $("#event_length2").val().split(' ');
				var lengthPos;
				if (eventLength.length == 4)
					lengthPos = parseInt(eventLength[0]) * 60 + parseInt(eventLength[2]);
				else {
					if (eventLength[1].charAt(0) == 'h') //only hours
						lengthPos = parseInt(eventLength[0]) * 60;
					else //Only minutes
						lengthPos = parseInt(eventLength[0]);
				}
				$("#eventLengthSlider2").slider(
				{
					value:lengthPos,
					min: 15,
					max: 480,
					step: 15,
					slide: function( event, ui ) {
						var hours = Math.floor(ui.value / 60);
						var minutes = ui.value - (hours * 60);

						var output = "";
						if (hours == 1)
							output = output + "1 hour";
						if (hours > 1)
							output = output + hours + " hours";

						if (minutes > 0) {
							if (hours > 0)
								output = output + " ";
							output = output + minutes + " minutes";
						}
						$( "#event_length2" ).val(output);
					}
				});
			});
		</script>

		<noscript>
			<link rel="stylesheet" href="{% static 'css/skel.css' %}" />
			<link rel="stylesheet" href="{% static 'css/style.css' %}" />
			<link rel="stylesheet" href="{% static 'css/style-wide.css' %}" />
			<link rel="stylesheet" href="{% static 'css/style-noscript.css' %}" />
			<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
		</noscript>

		<style>
		
		</style>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
	</head>
	<body class="no-sidebar">
		<!-- Header -->
			<header id="header" class="skel-layers-fixed" style="display: none;">
				<h1 id="logo"><a href="/"><img src="{% static 'images/SKEDGlogo.png' %}" style="height:30px; vertical-align:middle; position:relative; bottom:2px;" /> <span> - Hello, {{ user.first_name }}! </span></a></h1>
				<nav id="nav">
					<ul>
						<li>
							<form action="{% url 'userPage' %}" method="post" style="display: inline-block;">
								{% csrf_token %}
								<span style="display: none;"><input type="text" name="username" value="{{ user.username }}"/></input></span>   
								<button type="submit" class="special button" name="userPage">My Account</button>
								<a href="#" style="display:none">My Account</a>
							</form>
						</li>

						<li><a class="special button" href="/logout/">Logout</a></li>
					</ul>
				</nav>
			</header>

		<!-- Loading Overlay -->
		<div class="loading" id="loadingOverlay" style="display:none">Loading&#8230;</div>

		<!-- Main -->
			<article id="main">
				<noscript id="noscript">
					<span style='color:red; font-weight:heavy; font-size: 50px'>Javascript must be enabled to use Skedg properly.</span>
				</noscript>

				<div class="content">
					<section>
						<link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}" />
						<link rel="stylesheet" type="text/css" href="{% static 'css/codrops.css' %}" />
						<div class="overlay overlay-hugeinc">
							<div class="createEvent" style="margin-top: 150px"> <br/ >
								<button type="button" class="overlay-close">Close</button>
								<div id = "boxedForm" class ="divs">
									<h2>Create Event</h2> 
									<h3> <font color="red">{{error}} </font></h3>
									<form action="{% url 'add' %}" method="post">    
										{% csrf_token %}
										<span style="display: none;"><input type="text" name="username" value="{{ user.username }}"</input></span>
										<div class="row">
											<div class="6u 12u(narrower)">
												Title: <input type="text" style="border:1px solid #000000; margin: 0 auto; margin-bottom: 10px; width: 90%; border-radius: 5px;" name="title" id="title" size="50" value="{{ title }}">
												Description: <br> <textarea type="text" style="border:1px solid #000000; margin: 0 auto; margin-bottom: 10px; width: 90%; border-radius: 5px; resize: none;" name="desc" cols="50" rows="2" id="description" value="{{ desc }}"></textarea> 
												<div class="row">
													<div class="6u 12u(narrower)" >
														<p> Start Date:<input type="text" style="position:relative; z-index: 100000; border: 1px solid; color: #666666; margin-left: 12px; width: 100%; text-align: center; border-radius: 5px; float: left;" name="start_date" id="from" value="{{ start_date }}"readonly> </p>
													</div> 
													<div class="6u 12u(narrower)">
														<p> End Date: <input type="text" name="end_date" style="position:relative; z-index: 100000; border: 1px solid; color: #666666; margin-left: -10px; width: 100%; text-align: center; border-radius: 5px; float: left;" id="to" value="{{ end_date }}" readonly></p>
													</div>
												</div>
											</div>
											<div class="6u 12u(narrower)">
												<link rel="stylesheet" href="{% static 'css/skel.css' %}" />
												<link rel="stylesheet" href="{% static 'css/style.css' %}" />
												<link rel="stylesheet" href="{% static 'css/style-wide.css' %}" />
												<div style="text-align: left; width: 73%; display: inline-block">Time Zone:
												<span class="custom-dropdown custom-dropdown--white">
													<select class="custom-dropdown__select custom-dropdown__select--white">
														<option>Eastern</option>
														<option>Central</option>
														<option>Mountain</option>
														<option>Pacific</option>
													</select>
												</span> </div>
												<br /> <br />
												<link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}" />
												<link rel="stylesheet" type="text/css" href="{% static 'css/codrops.css' %}" />
												Start Time: <input size="25" type="text" name="start_time" id="start_time"  style="border: 0; margin-left: -10px; width: 68%; display: inline-block; border-radius: 5px;"  value="{{ start_time }}" readonly>
												<div id="start_slider" style="margin: 0 auto; width: 90%"></div>

												End Time: <input size="25" type="text" name="end_time" id="end_time"  style="border: 0; margin-left: -10px; width: 70%; display: inline-block; border-radius: 5px;"  value="{{ end_time }}" readonly>
												<div id="end_slider" style="margin: 0 auto; width: 90%"></div> <br />

												Event Length: <input size="25" type="text" name="event_length" id="event_length"  style="border: 0; width: 60%; margin-left: -10px; display: inline-block; border-radius: 5px;" value="{{ event_length }}" readonly>
												<div id="eventLengthSlider" style="margin: 0 auto; width: 90%"></div><br>
												
											</div>
										</div>
										<br /> 
										<input class="button special" style="margin: 0 auto 20 auto;" type="submit" id="create" value="Add" /> <br /> <br />
									</form>
								</div>
								<div id="boxedFormMobile" class ="divs">
									<h2>Create Event</h2> 
									<h3> <font color="red">{{error}} </font></h3>
									<form action="{% url 'add' %}" method="post">    
										{% csrf_token %}
										<span style="display: none;"><input type="text" name="username" value="{{ user.username }}"</input></span>
										<div class="row" style="margin: 0 auto; margin-top: -50px">
											<div class="12u 12u">
												Title: <input type="text" style="border:1px solid #000000; margin-bottom: 10px; width: 90%; border-radius: 5px;" name="title" id="title" size="50" value="{{ title }}">
												Description: <br> <textarea type="text" style="border:1px solid #000000; margin-bottom: 10px; width: 90%; border-radius: 5px; resize: none;" name="desc" cols="50" rows="2" id="description" value="{{ desc }}"></textarea> 
												<p> Start Date: <br /> <input type="text" style="position:relative; z-index: 100000; border: 1px solid; color: #666666; width: 90%; text-align: center; border-radius: 5px; float: left;" name="start_date" id="from2" value="{{ start_date }}"readonly> </p>
												<br />
												<p> End Date: <br /> <input type="text" name="end_date" style="position:relative; z-index: 100000; border: 1px solid; color: #666666; width: 90%; text-align: center; border-radius: 5px; float: left;" id="to2" value="{{ end_date }}" readonly></p>
												<br />
												<div style="text-align: left; width: 73%; display: inline-block">Time Zone:
												<span class="custom-dropdown custom-dropdown--white">
													<select class="custom-dropdown__select custom-dropdown__select--white">
														<option>Eastern</option>
														<option>Central</option>
														<option>Mountain</option>
														<option>Pacific</option>
													</select>
												</span> </div>
												<br /> <br />
												Start Time: <input size="25" type="text" name="start_time" id="start_time2"  style="border: 0; margin-left: -10px; width: 68%; display: inline-block; border-radius: 5px;"  value="{{ start_time }}" readonly>
												<div id="start_slider2" style="margin: 0 auto; width: 90%"></div>

												End Time: <input size="25" type="text" name="end_time" id="end_time2" style="border: 0; margin-left: -10px; width: 70%; display: inline-block; border-radius: 5px;"  value="{{ end_time }}" readonly>
												<div id="end_slider2" style="margin: 0 auto; width: 90%"></div> <br />

												Event Length: <input size="25" type="text" name="event_length" id="event_length2"  style="border: 0; width: 90%; margin: 0 auto; display: inline-block; border-radius: 5px;" value="{{ event_length }}" readonly>
												<div id="eventLengthSlider2" style="margin: 0 auto; width: 90%"></div><br>
											</div>
										</div>
										<br /> 
										<input class="button special" style="margin: 0 auto 20 auto;" type="submit" id="create" value="Add" /> <br /> <br />
									</form>
								</div>
							</div>
						</div>

						<link rel="stylesheet" href="{% static 'css/skel.css' %}" />
						<link rel="stylesheet" href="{% static 'css/style.css' %}" />
						<link rel="stylesheet" href="{% static 'css/style-wide.css' %}" />
					</section>
				</div>

				<!-- One -->
					<section class="wrapper style4 container" id="myContent">
						<!-- Content -->
							<div class="content">
								<section>
									<div class="navbar">
										<div align="right">
											<nav>
												<ul>
													<li style="display: inline; margin-right: 7px;"><a class="special button" style="margin-right: -5px; background-color: #4682B4; border-color: #4682B4; border-radius: 5px;" href="javascript:;" id="trigger-overlay">Create Event</a> </li>
													<li style="display: inline;  margin-right: 7px;"><a class="special button" style="margin-right: -5px; background-color: #4682B4; border-color: #4682B4; border-radius: 5px; display: none;" href="http://calendar.google.com" id="calendarLink">Calendar</a></li>
													<li id="notification_li" style="display: none; margin-right: 5px;">
														{% if user.notification_set.all|length > 0 %}
														<span id="notification_count">{{ user.notification_set.all|length }}</span>
														{% endif %}
														<a class = "special button" style="background-color: #4682B4; border-color: #4682B4; border-radius: 5px;" href="#" id="notificationLink">Notifications</a>

														<div id="notificationContainer" >
															<div id="notificationTitle">Notifications</div>
															<div id="notificationsBody">
																<ul>
																	{% for notification in user.notification_set.all %}
																	<li>
																		<div id="notificationBox">
																		<form action="{% url 'manageNotification' %}" method="post">
																			{% csrf_token %}
																			<span style="display: none;"><input type="text" name="notificationID" value="{{ notification.id }}"</input></span>
																			<button type="submit" name="dismiss" id="notificationBox">✖</button> 
																		</form>
																			<div id="notificationText" style="width: 90%;">
																				{{ notification|truncatechars:110 }}
																			</div>
																		</div>
																	</li>
																	{% endfor %}
																</ul>
															</div>
															<div id="notificationFooter"> 
																<!-- <form action="{% url 'manageNotification' %}" method="post">
																	<span style="display: none;"><input type="text" name="clear" value="clear"></input></span>
																	<button type="submit" class="special button" name="clear">Clear All</button>
																</form> -->
																<div id="notificationBox">
																	<form action="{% url 'manageNotification' %}" method="post">   
																		{% csrf_token %}
																		<span style="display: none;"><input type="text" name="username" value="{{ user.username }}"/></input></span>   

																		<button class="button" type="submit" name="clear" id="notificationBox">Clear All</button> 
																	</form>
																</div>
															</div>
														</div>
													</li>
												</ul>
											</nav>
										</div>
									</div>
									<br />

									<div class = "eventContainer">
										<div class="row" id="eventsForm" style="display: none;">
											<div class="6u 12u(narrower)">
												<section>
													<header>
														<h3 id="myEventsCol"><strong>My Events</strong></h3>
													</header>
													<h4><strong>Pending:</strong></h4>
													<div id="myEventsPending"></div>
													<br/>

													<h4><strong>Upcoming:</strong></h4>
													<div id="myEventsUpcoming"></div>
													<br/>

													<h4><strong>Past:</strong></h4>
													<div id="myEventsPassed"></div>
													<br/>
												</section>
											</div>
											<div class="6u 12u(narrower)">
												<section>
													<header>
														<h3 id="otherEventsCol"><strong>Other Events</strong></h3>
													</header>
													<h4><strong>Pending:</strong></h4>
													<div id="otherEventsPending"></div>
													<br/>

													<h4><strong>Upcoming:</strong></h4>
													<div id="otherEventsUpcoming"></div>
													<br/>

													<h4><strong>Past:</strong></h4>
													<div id="otherEventsPassed"></div>
													<br/>
												</section>
											</div>
											
											{% for event in latest_event_list %}
												{% if event.creator == user.username %}
													<!--pending-->
													{% if not event.is_scheduled %}
														<script>
															var div = document.getElementById('myEventsPending');
															var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
															div.innerHTML = div.innerHTML + string;
														</script>
													{% else %}
														<!--upcoming-->
														{% if not event.hasPassed %}
															<script>
																var div = document.getElementById('myEventsUpcoming');
																var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																div.innerHTML = div.innerHTML + string;
															</script>
														<!--passed-->
														{% else %}
															<script>
																var div = document.getElementById('myEventsPassed');
																var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																div.innerHTML = div.innerHTML + string;
															</script>
														{% endif %}
													{% endif %}
												{% else %}
													{% for invitee in event.invitee_set.all %}
														{% if invitee.name == user.username %}
															<!--pending-->
															{% if not event.is_scheduled %}
																<script>
																	var div = document.getElementById('otherEventsPending');
																	var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																	div.innerHTML = div.innerHTML + string;
																</script>
															{% else %}
																<!--upcoming-->
																{% if not event.hasPassed %}
																	<script>
																		var div = document.getElementById('otherEventsUpcoming');
																		var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																		div.innerHTML = div.innerHTML + string;
																	</script>
																<!--passed-->
																{% else %}
																	<script>
																		var div = document.getElementById('otherEventsPassed');
																		var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																		div.innerHTML = div.innerHTML + string;
																	</script>
																{% endif %}
															{% endif %}
														{% endif %}
													{% endfor %}
												{% endif%}
											{% endfor %}

											<!--Check if any of the divs have no events -->
											<script>
												var div = document.getElementById('myEventsPending');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('myEventsUpcoming');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('myEventsPassed');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsPending');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsUpcoming');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsPassed');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
											</script>
										</div>

										<div class="row" id="eventsFormMobile" style="display: none;">
											<div class="12u 12u(narrower)">
												<section>
													<header>
														<h3 id="myEventsCol"><strong>My Events</strong></h3>
													</header>
													<h4><strong>Pending:</strong></h4>
													<div id="myEventsPendingMobile"></div>
													<br/>

													<h4><strong>Upcoming:</strong></h4>
													<div id="myEventsUpcomingMobile"></div>
													<br/>

													<h4><strong>Past:</strong></h4>
													<div id="myEventsPassedMobile"></div>
													<br/>
													<header>
														<h3 id="otherEventsCol"><strong>Other Events</strong></h3>
													</header>
													<h4><strong>Pending:</strong></h4>
													<div id="otherEventsPendingMobile"></div>
													<br/>

													<h4><strong>Upcoming:</strong></h4>
													<div id="otherEventsUpcomingMobile"></div>
													<br/>

													<h4><strong>Past:</strong></h4>
													<div id="otherEventsPassedMobile"></div>
													<br/>
												</section>
											</div>
											
											{% for event in latest_event_list %}
												{% if event.creator == user.username %}
													<!--pending-->
													{% if not event.is_scheduled %}
														<script>
															var div = document.getElementById('myEventsPendingMobile');
															var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
															div.innerHTML = div.innerHTML + string;
														</script>
													{% else %}
														<!--upcoming-->
														{% if not event.hasPassed %}
															<script>
																var div = document.getElementById('myEventsUpcomingMobile');
																var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																div.innerHTML = div.innerHTML + string;
															</script>
														<!--passed-->
														{% else %}
															<script>
																var div = document.getElementById('myEventsPassedMobile');
																var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																div.innerHTML = div.innerHTML + string;
															</script>
														{% endif %}
													{% endif %}
												{% else %}
													{% for invitee in event.invitee_set.all %}
														{% if invitee.name == user.username %}
															<!--pending-->
															{% if not event.is_scheduled %}
																<script>
																	var div = document.getElementById('otherEventsPendingMobile');
																	var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																	div.innerHTML = div.innerHTML + string;
																</script>
															{% else %}
																<!--upcoming-->
																{% if not event.hasPassed %}
																	<script>
																		var div = document.getElementById('otherEventsUpcomingMobile');
																		var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																		div.innerHTML = div.innerHTML + string;
																	</script>
																<!--passed-->
																{% else %}
																	<script>
																		var div = document.getElementById('otherEventsPassedMobile');
																		var string = "<a href='{% url 'detail' event.eventID %}'>{{ event.title }}</a> ({{ event.invitee_set.all|length }} attending) <br/>";
																		div.innerHTML = div.innerHTML + string;
																	</script>
																{% endif %}
															{% endif %}
														{% endif %}
													{% endfor %}
												{% endif%}
											{% endfor %}

											<!--Check if any of the divs have no events -->
											<script>
												var div = document.getElementById('myEventsPending');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('myEventsUpcoming');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('myEventsPassed');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsPending');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsUpcoming');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
												div = document.getElementById('otherEventsPassed');
												if (div.innerHTML == "")
													div.innerHTML = div.innerHTML + "No events"
											</script>
										</div>
									</div>
								</section>
							</div>
					</section>
			</article>

			<section id="cta">
				<header>
					<h2>Please give us your <strong>feedback</strong>!</h2>
				</header>
				<footer>
					<ul class="buttons">
						<li><a href="http://goo.gl/forms/yFULhAFLJk" class="button"> Send suggestions </a></li>
					</ul>
				</footer>
			</section>
			
 		{% if showIndexTour %}
	 		<link rel="stylesheet" type="text/css" href="{% static 'css/joyride-2.1.css' %}">
		 		<ol id="joyRideTipContent">
		 			<li data-button="Next" data-options="modal: true;">
				    	<h2>User Page</h2>
				    	<p>Congratulations on creating your account! Skedg has many great features, and click "Next" to discover what we have to offer!</p>
				    </li>
				    <li data-id="myEventsCol" data-button="Next" data-options="tipLocation:top">
				    	<h2>Your Events</h2>
				    	<p>All your pending, upcoming, and past events that you have <strong>created</strong>.</p>
				    </li>
				    <li data-id="otherEventsCol" data-button="Next" data-options="tipLocation:top">
				    	<h2>Other Events</h2>
				    	<p>All your pending, upcoming, and past events that you have <strong>joined</strong>.</p>
				    </li>
				    <li data-id="notification_li" data-button="Next">
				    	<h2>Notifications</h2>
				    	<p>Notifications on any events you are affiliated with.</p>
				    </li>
		 			<li data-id="trigger-overlay" data-text="Next">
		 				<h2>Create Event</h2>
		 				<p>Click to learn how to schedule your first event!</p>
		 		  	</li>
				 	<li data-id="from" data-button="Next" data-options="tipLocation:left">
		 				<h2>Start Date</h2>
		 				<p>The first possible day for your event.</p>
		 		  	</li>
		 		  	<li data-id="to" data-button="Next" data-options="tipLocation:bottom">
		 				<h2>End Date</h2>
		 				<p>The last possible day for your event.</p>
		 		  	</li>
		 		  	<li data-id="start_time" data-button="Next" data-options="tipLocation:right">
		 				<h2>Start Time</h2>
		 				<p>The earliest start time for your event.</p>
		 		  	</li>
		 		  	<li data-id="end_time" data-button="Next" data-options="tipLocation:right">
		 				<h2>End Time</h2>
		 				<p>The latest end time for your event.</p>
		 		  	</li>
		 		  	<li data-id="event_length" data-button="Next" data-options="tipLocation:right">
		 				<h2>Event Length</h2>
		 				<p>The duration of your event.</p>
		 		  	</li>
		 		  	<li data-id="create" data-button="Close" data-options="modal: true;">
				    	<h2>Add the Event</h2>
				    	<p>Now what are you waiting for? Use Skedg to schedule your first event!</p>
				    </li>
		 		</ol>
	 		<link rel="stylesheet" href="{% static 'css/skel.css' %}" />
	 		<link rel="stylesheet" href="{% static 'css/style.css' %}" />
	 		<link rel="stylesheet" href="{% static 'css/style-wide.css' %}" />
 		{% endif %}

		<!--  Launching joyride when to page is loaded -->
		<script>
			$(window).load(function() {
				$('#joyRideTipContent').joyride({
		        	autoStart : true,
		        	preStepCallback : function (index, tip) {
			        	if (index == 5) {
			        		if(!classie.has( overlay, 'open')) {
			        			toggleOverlay();
			        		}
			        	}
		        	},
		        	postStepCallback : function (index, tip) {
		        		if (index >= 5) {
			        		if(!classie.has( overlay, 'open')) {
				        		$('#joyRideTipContent').joyride('destroy');
				        	}
			        	}
		        	}
				});
			});
		</script>

		<script>
			$(document).ready(function(){
				$("#create").click(function() {
					$("#loadingOverlay").show();
				});
				$("#noscript").hide();
			});	
		</script>

		<!-- Save overlays on reload -->
		<script type='text/javascript'>
			$(document).ready(function(){
				{% if error %}
					toggleOverlay();
				{% endif %}
			});
		</script>

		<script src="{% static 'js/modernizr.custom.js' %}"></script>
		<script src="{% static 'js/classie.js' %}"></script>
		<script src="{% static 'js/indexOverlay.js' %}"></script>

		<!-- Mobile Linking -->
		<script type='text/javascript'>
			function mobileModification() {
				document.getElementById('boxedForm').style.display = 'none';
				document.getElementById('boxedFormMobile').style.display = 'block';
				document.getElementById('eventsForm').style.display = 'none';
				document.getElementById('eventsFormMobile').style.display = 'block';
				document.getElementById('header').style.display = 'none';
				document.getElementById('calendarLink').style.display = 'none';
				document.getElementById('notification_li').style.display = 'none';
				var triggerBttn = document.getElementsByClassName( 'depth-0' );
				$(triggerBttn[0]).click(function(){
					location.href='/userPage';
				})
			
				var wrapperStyle4Container = document.getElementsByClassName('wrapper style4 container');
				for (i = 0; i < wrapperStyle4Container.length; i++) {
					wrapperStyle4Container[i].style.paddingLeft = '4em';
					wrapperStyle4Container[i].style.paddingRight = '4em';
				}
			}

			function narrowerModification() {
				document.getElementById('boxedForm').style.display = 'none';
				document.getElementById('boxedFormMobile').style.display = 'block';
				document.getElementById('eventsForm').style.display = 'none';
				document.getElementById('eventsFormMobile').style.display = 'block';
				document.getElementById('header').style.display = 'none';
				document.getElementById('calendarLink').style.display = 'inline-block';
				document.getElementById('notification_li').style.display = 'inline-block';
				var triggerBttn = document.getElementsByClassName( 'depth-0' );
				$(triggerBttn[0]).click(function(){
					location.href='/userPage';
				})

				var wrapperStyle4Container = document.getElementsByClassName('wrapper style4 container');
				for (i = 0; i < wrapperStyle4Container.length; i++) {
					wrapperStyle4Container[i].style.paddingLeft = '4em';
					wrapperStyle4Container[i].style.paddingRight = '4em';
				}
			}

			function createEventMobileReset() {
				document.getElementById('boxedForm').style.display = 'block';
				document.getElementById('boxedFormMobile').style.display = 'none';
				document.getElementById('eventsForm').style.display = 'block';
				document.getElementById('eventsFormMobile').style.display = 'none';
				document.getElementById('header').style.display = 'block';
				document.getElementById('calendarLink').style.display = 'inline-block';
				document.getElementById('notification_li').style.display = 'inline-block';

				var wrapperStyle4Container = document.getElementsByClassName('wrapper style4 container');
				for (i = 0; i < wrapperStyle4Container.length; i++) {
					wrapperStyle4Container[i].style.paddingLeft = '4em';
					wrapperStyle4Container[i].style.paddingRight = '4em';
				}
			}

			var bounds = [
			    {min:0,max:736,func:mobileModification},
			    {min:737,max:840,func:narrowerModification},
			    {min:841,func:createEventMobileReset}
			];

			var resizeFn = function(){
			    var lastBoundry; // cache the last boundry used
			    return function(){
			        var width = window.innerWidth;
			        var boundry, min, max;
			        for(var i=0; i<bounds.length; i++){
			            boundry = bounds[i];
			            min = boundry.min || Number.MIN_VALUE;
			            max = boundry.max || Number.MAX_VALUE;
			            if(width > min && width < max 
			               && lastBoundry !== boundry){
			                lastBoundry = boundry;
			                return boundry.func.call(boundry);            
			            }
			        }
			    }
			};
			$(window).resize(resizeFn());
			$(document).ready(function(){
			    $(window).trigger('resize');
			});
		</script>

		<link rel="stylesheet" media='screen and (max-width: 736px)' href="{% static 'css/style-mobile.css' %}" />
		<link rel="stylesheet" media='screen and (min-width: 737px) and (max-width: 840px)' href="{% static 'css/style-narrower.css' %}" />
		<link rel="stylesheet" media='screen and (min-width: 841px) and (max-width: 980px)' href="{% static 'css/style-narrow.css' %}" />  
	</body>
</html>